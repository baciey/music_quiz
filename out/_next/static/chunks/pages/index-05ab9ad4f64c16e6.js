(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4081:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var i=t(6687),a=t(2747),l=t.n(a),s=t(7294),r=t(6657),o=t(2049),c=t.n(o),d=t(5893),u=function(e){return e.isOpen?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:c().confetti1,children:(0,d.jsx)(r.Z,{duration:3e3,zIndex:9999})}),(0,d.jsx)("div",{className:c().confetti2,children:(0,d.jsx)(r.Z,{duration:4e3,zIndex:9999})}),(0,d.jsx)("div",{className:c().confetti3,children:(0,d.jsx)(r.Z,{duration:5e3,zIndex:9999})})]}):null},y=t(5675),x=t.n(y),f=t(2672),m=t.n(f),v=function(e){var n=e.isMusicPlaying,t=e.isGameStarted,a=e.players;if(!t)return null;var l=(0,i.Z)(a).sort((function(e,n){return n.score-e.score})).map((function(e,n){var t={};return 0===n?t={color:"green"}:n===a.length-1&&(t={color:"red"}),(0,d.jsx)("li",{className:"".concat(m().listItem," ").concat(m().style),children:(0,d.jsxs)("p",{style:t,children:[(0,d.jsx)("span",{children:n+1+". "+e.name}),(0,d.jsx)("span",{children:e.score})]})},n)}));return(0,d.jsxs)("div",{className:m().vinylContainer,children:[(0,d.jsx)("ul",{className:m().list,children:l}),(0,d.jsx)(x(),{src:"vinyl.png",alt:"vinyl",width:200,height:200,className:n?m().vinyl:""}),(0,d.jsx)("div",{style:{width:200}})]})},p=t(8262),h=t(8862),g=function(e){var n=e.isSongTitleDialogOpen,t=e.handleCloseSongTitleDialog,i=e.songTitle;return(0,d.jsx)(p.Z,{open:n,onClose:t,children:(0,d.jsx)("div",{style:{display:"flex"},children:(0,d.jsx)(h.Z,{sx:{fontSize:48,textAlign:"center",padding:"10px"},children:i})})})},_=t(5268),j=t(5753),C=t(4316),S=function(e){var n=e.player,t=e.handleGoodAnswer,i=e.handleWrongAnswer;return n?(0,d.jsxs)(p.Z,{open:!0,children:[(0,d.jsx)(h.Z,{sx:{fontSize:48,textAlign:"center"},children:n.name}),(0,d.jsxs)("div",{style:{display:"flex"},children:[(0,d.jsx)(_.Z,{onClick:t,sx:{fontSize:100},children:(0,d.jsx)(j.Z,{color:"success",fontSize:"inherit"})}),(0,d.jsx)(_.Z,{onClick:i,sx:{fontSize:100},children:(0,d.jsx)(C.Z,{color:"error",fontSize:"inherit"})})]})]}):null},P=t(990),k=t(8607),Z=t(9130),I=t(9022),N=t(6442),w=t(5537),G=t(8439),K=t.n(G),b=function(e){var n,t,a=e.isGameStarted,l=e.setIsGameStarted,s=e.keyCode,r=e.setKeyCode,o=e.handleAddPlayer,c=e.playerName,u=e.currentSongIndex,y=e.setCurrentSongIndex,x=e.setIsSongTitleDialogOpen,f=e.audioRef,m=e.songs,v=e.pauseSound,p=e.playSound,g=e.players,j=e.setPlayers,C=e.setPlayerName,S=e.setInactiveKeyCodes,G=e.setSongs,b=e.setIsMusicPlaying,T=function(e,n){var t=e.target.files?Array.from(e.target.files):[];null===t||void 0===t||t.forEach((function(e){var t={audio:new Audio(URL.createObjectURL(e)),name:e.name.split(".")[0],url:URL.createObjectURL(e),type:n};m.push(t)})),G([].concat((0,i.Z)(m),[]))};return(0,d.jsxs)(d.Fragment,{children:[a?(0,d.jsxs)("div",{className:K().navigationPanel,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(h.Z,{children:"Piosenka: "+(u+1)+"/"+m.length}),(0,d.jsx)(_.Z,{variant:"contained",onClick:function(){S([]),b(!1),y((function(e){return e-1}))},disabled:0===u,children:(0,d.jsx)(k.Z,{})}),(0,d.jsx)(_.Z,{variant:"contained",onClick:p,sx:{marginLeft:"8px",marginRight:"8px"},children:(0,d.jsx)(Z.Z,{})}),(0,d.jsx)(_.Z,{variant:"contained",onClick:v,sx:{marginRight:"8px"},children:(0,d.jsx)(I.Z,{})}),(0,d.jsx)(_.Z,{variant:"contained",onClick:function(){S([]),b(!1),y((function(e){return e+1}))},sx:{marginRight:"8px"},disabled:u===m.length-1,children:(0,d.jsx)(N.Z,{})}),(0,d.jsx)(_.Z,{variant:"contained",onClick:function(){S([]),x(!0)},children:"Poka\u017c tytu\u0142"})]}),(0,d.jsx)(h.Z,{sx:{fontSize:"50px"},children:"artist"===(null===(n=m[u])||void 0===n?void 0:n.type)?"Wykonawca: punkty x1":"Tytu\u0142 piosenki: punkty x2"}),(0,d.jsx)("audio",{ref:f,src:null===(t=m[u])||void 0===t?void 0:t.url})]}):(0,d.jsxs)("div",{className:K().addPlayersPanel,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(P.Z,{label:"Key",variant:"outlined",placeholder:"key",value:s,size:"small",onKeyDown:function(e){return r(e.code)}}),(0,d.jsx)(P.Z,{label:"Name",variant:"outlined",placeholder:"name",value:c,onChange:function(e){return C(e.target.value)},size:"small",onKeyDown:function(e){"Enter"===e.code&&o()}}),(0,d.jsx)(_.Z,{variant:"contained",onClick:o,children:"Add player"}),(0,d.jsxs)(_.Z,{variant:"contained",component:"label",sx:{marginLeft:"8px",marginRight:"8px"},children:["Upload Songs (artist)",(0,d.jsx)("input",{type:"file",hidden:!0,multiple:!0,onChange:function(e){return T(e,"artist")}})]}),(0,d.jsxs)(_.Z,{variant:"contained",component:"label",children:["Upload Songs (title)",(0,d.jsx)("input",{type:"file",hidden:!0,multiple:!0,onChange:function(e){return T(e,"title")}})]})]}),(0,d.jsx)(_.Z,{variant:"contained",onClick:function(){!function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}}(m),l(!0)},disabled:0===m.length,children:"Start"})]}),(0,d.jsx)("div",{children:a?null:g.map((function(e,n){return(0,d.jsxs)("div",{className:K().playerListItemContainer,children:[(0,d.jsx)("div",{children:e.name+" "+e.keyCode}),(0,d.jsx)(_.Z,{onClick:function(){return j(g.filter((function(e,t){return t!==n})))},children:(0,d.jsx)(w.Z,{})})]},n)}))})]})},T=t(697),E=t.n(T),z=function(e){var n=e.isGameStarted,t=e.inactiveKeyCodes,i=e.players,a=e.fastestPlayer;return(0,d.jsx)("div",{className:"".concat(E().playersContainer),style:{gridTemplateColumns:"repeat(".concat(i.length,", 1fr)")},children:n&&i.map((function(e,n){var i=(null===a||void 0===a?void 0:a.name)===e.name;return(0,d.jsxs)("div",{className:"".concat(E().player," ").concat(t.includes(e.keyCode)&&E().inactivePlayer," ").concat(i&&E().fastestPlayer),children:[(0,d.jsx)("div",{className:"".concat(E().playerInner," ").concat(i&&E().fastestPlayerInner)}),(0,d.jsxs)("div",{className:E().playerData,children:[(0,d.jsx)("p",{children:e.name}),(0,d.jsx)("p",{children:"Punkty: "+e.score}),(0,d.jsx)("p",{children:"\u017bycie: "+e.lives}),(0,d.jsx)("p",{children:e.keyCode.slice(3)})]})]},n)}))})},A=[{name:"Mirek",score:0,lives:3,img:null,keyCode:"KeyQ"},{name:"Halina",score:0,lives:3,img:null,keyCode:"KeyW"},{name:"Gocha",score:0,lives:3,img:null,keyCode:"KeyE"},{name:"Tomasz",score:0,lives:3,img:null,keyCode:"KeyR"},{name:"Kacha",score:0,lives:3,img:null,keyCode:"KeyT"},{name:"Sara",score:0,lives:3,img:null,keyCode:"KeyY"}],R=function(){var e,n=(0,s.useState)(A),t=n[0],a=n[1],r=(0,s.useState)(""),o=r[0],c=r[1],y=(0,s.useState)(""),f=y[0],m=y[1],p=(0,s.useState)([]),h=p[0],_=p[1],j=(0,s.useState)(!1),C=j[0],P=j[1],k=(0,s.useState)(!1),Z=k[0],I=k[1],N=(0,s.useState)(null),w=N[0],G=N[1],K=(0,s.useState)(0),T=K[0],E=K[1],R=(0,s.useState)([]),D=R[0],L=R[1],O=(0,s.useState)(!1),M=O[0],B=O[1],V=(0,s.useState)(!1),U=V[0],H=V[1],X=(0,s.useRef)(null),F=function(e){if(Z){var n,i=t.find((function(n){return n.keyCode===e.code}))||null;if(i&&!D.includes(i.keyCode))I(!1),null===X||void 0===X||null===(n=X.current)||void 0===n||n.pause(),G(i)}};return(0,s.useEffect)((function(){return document.addEventListener("keydown",F),function(){return document.removeEventListener("keydown",F)}}),[Z]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:l().container,children:[(0,d.jsx)(x(),{src:"bg.jpeg",alt:"bg",className:l().bgImage,width:100,height:100,layout:"fill"}),(0,d.jsx)(b,{keyCode:f,setKeyCode:m,setPlayerName:c,handleAddPlayer:function(){if(o.trim()&&f){var e={name:o,score:0,lives:3,img:null,keyCode:f};a([].concat((0,i.Z)(t),[e])),c(""),m("")}},playerName:o,isGameStarted:C,setIsGameStarted:P,currentSongIndex:T,setCurrentSongIndex:E,setIsSongTitleDialogOpen:B,audioRef:X,pauseSound:function(){var e;null===X||void 0===X||null===(e=X.current)||void 0===e||e.pause(),I(!1)},playSound:function(){var e;null===X||void 0===X||null===(e=X.current)||void 0===e||e.play(),I(!0)},players:t,setPlayers:a,setInactiveKeyCodes:L,songs:h,setSongs:_,setIsMusicPlaying:I}),(0,d.jsx)(z,{players:t,isGameStarted:C,inactiveKeyCodes:D,fastestPlayer:w}),(0,d.jsx)(v,{isMusicPlaying:Z,isGameStarted:C,players:t})]}),(0,d.jsx)(S,{player:w,handleGoodAnswer:function(){var e;if(w){var n=(0,i.Z)(t),l=n.findIndex((function(e){return e.name===w.name})),s="artist"===(null===(e=h[T])||void 0===e?void 0:e.type)?10:20;n[l].score+=s,a(n),G(null),B(!0),L([]),H(!0)}},handleWrongAnswer:function(){if(w){var e=(0,i.Z)(t),n=e.findIndex((function(e){return e.name===w.name}));e[n].lives-=1,a(e),G(null),L([].concat((0,i.Z)(D),[w.keyCode]))}}}),(0,d.jsx)(g,{isSongTitleDialogOpen:M,handleCloseSongTitleDialog:function(){B(!1),H(!1)},songTitle:null===(e=h[T])||void 0===e?void 0:e.name}),(0,d.jsx)(u,{isOpen:U})]})},D=function(){return(0,d.jsx)(R,{})}},8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4081)}])},8439:function(e){e.exports={addPlayersPanel:"AdminPanel_addPlayersPanel__aEjRx",playerListItemContainer:"AdminPanel_playerListItemContainer__qHpRP",navigationPanel:"AdminPanel_navigationPanel__F49ht"}},2049:function(e){e.exports={confetti1:"Confetti_confetti1__u74CC",confetti2:"Confetti_confetti2__LE1Gl",confetti3:"Confetti_confetti3__6GSY_"}},697:function(e){e.exports={playersContainer:"GameBoard_playersContainer__XM4Zd",player:"GameBoard_player__EalgH",playerInner:"GameBoard_playerInner__KsiZn",playerData:"GameBoard_playerData__Y_VMB",inactivePlayer:"GameBoard_inactivePlayer__xxez3",fastestPlayer:"GameBoard_fastestPlayer__fPsOE",fastestPlayerInner:"GameBoard_fastestPlayerInner__hX_NG"}},2747:function(e){e.exports={container:"Home_container__q_TVQ",bgImage:"Home_bgImage___D240"}},2672:function(e){e.exports={vinylContainer:"Vinyl_vinylContainer__QPM1y",vinyl:"Vinyl_vinyl__v3Xbh",spin:"Vinyl_spin__40TJw",list:"Vinyl_list__KwKl_",listItem:"Vinyl_listItem__7muo9"}}},function(e){e.O(0,[17,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);